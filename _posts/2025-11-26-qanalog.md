---
layout: post
title: "q-模拟和q-级数及其应用"
subtitle: "整数分拆, 雅可比三重积恒等式, 罗杰斯-拉马努金恒等式等"
author: "QED"
header-img: "img/post-bg-infinity.jpg"
header-mask: 0.3
math: true
tags:
  - 数论
---


# q-模拟基础

若无特殊说明, 以下内容均在形式幂级数环$\mathbb{C}[[q]]$中讨论, 仅在必要时对$q$取特定值并讨论其收敛性.

<div style="border: 3px solid #000; padding: 10px;">

<b>定义(q-整数)</b>

对于非负整数$n$, q-整数定义为:
$$
[n]_q = 1 + q + q^2 + \cdots + q^{n-1} = \frac{1 - q^n}{1 - q},
$$
特别地, $[0]_q = 0$. 当$q \to 1$时, $[n]_q \to n$, 即退化为普通整数.

</div><br>

<div style="border: 3px solid #000; padding: 10px;">

<b>定义(q-阶乘)</b>

对于非负整数$n$, q-阶乘定义为q-整数的乘积:
$$
[n]_q! = \prod_{k=1}^n [k]_q = [1]_q [2]_q \cdots [n]_q,
$$
其中约定$[0]_q! = 1$. 其等价表达式为:
$$
[n]_q! = \frac{(1 - q)(1 - q^2) \cdots (1 - q^n)}{(1 - q)^n},
$$
当$q \to 1$时, $[n]_q! \to n!$, 即退化为普通阶乘.

</div><br>

<div style="border: 3px solid #000; padding: 10px;">

<b>定义(q-波赫哈默符号)</b>

q-波赫哈默符号定义为: 对于复数$a$, 定义
$$
(a; q)_\infty = \prod_{k=0}^\infty (1 - a q^k)=(1-a)(1-aq)(1-aq^2)(1-aq^3)\cdots,
$$

对任意整数$n$, 定义
$$
(a; q)_n =\frac{(a; q)_\infty}{(aq^n; q)_\infty},
$$

显然, 当$n=0$时, $(a; q)_0 = 1$, 当$n$为正整数时, 有
$$
(a; q)_n = \prod_{k=0}^{n-1} (1 - a q^k)=(1-a)(1-aq)(1-aq^2)\cdots(1-aq^{n-1}),
$$

$$
(a; q)_{-n} = \frac{1}{(aq^{-n}; q)_n} = \prod_{k=1}^{n}\frac{1}{1 - a q^{-k}}.
$$
</div><br>

注: 当$a=q$时, 有记法$\phi(q)=(q;q)_\infty$, 称为欧拉函数. 在不引起混淆的情况下, 有如下简记法: $(a)_n=(a;q)_n$, $(a)_\infty=(a;q)_\infty$, $(a,b;q)_n=(a;q)_n(b;q)_n$, $(a,b;q)_\infty=(a;q)_\infty(b;q)_\infty$, 更多元的情况类似. 使用q-波赫哈默符号, 就有:
$$
[n]_q!=\frac{(q;q)_n}{(1-q)^n}.
$$


<div style="border: 3px solid #000; padding: 10px;">

<b>定义(q-二项式系数)</b>

对于整数$0 \leq k \leq n$, q-二项式系数定义为:
$$
\binom{n}{k}_q = \frac{[n]_q!}{[k]_q! \, [n - k]_q!},
$$
当$k > n$或$k < 0$时, 约定$\binom{n}{k}_q = 0$. 等价的, 有
$$
\binom{n}{k}_q = \frac{(1 - q^n)(1 - q^{n-1}) \cdots (1 - q^{n - k + 1})}{(1 - q^k)(1 - q^{k - 1}) \cdots (1 - q)},
$$
当$q \to 1$时, $\binom{n}{k}_q \to \binom{n}{k}$.

</div><br>

一个有趣的组合事实是, 当$q$取素数的幂时, $q$阶有限域$\mathbb{F}_q$上的$n$维向量空间$\mathbb{F}_q^n$中, $k$维子空间的个数恰好就是$\binom{n}{k}_q$, 也就是说格拉斯曼簇$\mathrm{Gr}(k,\mathbb{F}_q^n)$的元素个数即为$\binom{n}{k}_q$.

<div style="border: 3px solid #000; padding: 10px;">

<b>定理(q-杨辉恒等式)</b>

$$
\binom{n}{k}_q=q^k\binom{n-1}{k}_q+\binom{n-1}{k-1}_q,
$$
$$
\binom{n}{k}_q=\binom{n-1}{k}_q+q^{n-k}\binom{n-1}{k-1}_q.
$$
</div>

<div style="border: 3px solid #000; padding: 10px;">

<b>proof</b>

直接按定义验证即可.

</div><br>

<div style="border: 3px solid #000; padding: 10px;">

<b>定理(q-二项式定理)</b>

对于非负整数$n$, 有:
$$
\prod_{k=0}^{n-1} (1 + q^k x) = \sum_{k=0}^n \binom{n}{k}_q q^{\frac{k(k-1)}{2}} x^k
$$
当$q \to 1$时, 退化为普通二项式定理$(1 + x)^n = \sum_{k=0}^n \binom{n}{k} x^k$, 对于负数情况, 有:
$$
\prod_{k=0}^{n-1}\frac{1}{1 - q^k x}= \sum_{k=0}^\infty \binom{n+k-1}{k}_q x^k,
$$
当$q \to 1$时, 即为$(1 - x)^{-n} = \sum_{k=0}^\infty \binom{n+k-1}{k} x^k$.
</div>

<div style="border: 3px solid #000; padding: 10px;">

<b>proof</b>

由归纳法和q-杨辉恒等式即可证明, 但我们这里使用另一种方法证明第一个式子, 这种方法在q-级数理论中十分常用, 第二个式子也可以类似证明.

定义$K_n(x)$为
$$
K_n(x) = \prod_{k=0}^{n-1} (1 + q^k x) = \sum_{k=0}^n c_k x^k
$$
其中$c_k$为展开式中$x^k$的系数, 显然有
$$
(1+q^nx)K_n(x)=(1+x)K_n(qx),
$$
代入幂级数并比较系数得递推公式
$$
c_k+q^nc_{k-1}=q^kc_k+q^{k-1}c_{k-1},
$$
即$(1-q^k)c_k=(q^{k-1}-q^n)c_{k-1}$, 因$c_0=1$, 故$c_1=\frac{1-q^n}{1-q}=\binom{n}{1}$, 若$c_{k-1}=\binom{n}{k-1} q^{\frac{(k-1)(k-2)}{2}}$, 则$c_k=\frac{q^{k-1}-q^n}{1-q^k}\binom{n}{k-1} q^{\frac{(k-1)(k-2)}{2}}=\binom{n}{k}q^{k-1}q^{\frac{(k-1)(k-2)}{2}}=\binom{n}{k}q^{\frac{k(k-1)}{2}}$, 由归纳法知定理成立.

</div>
